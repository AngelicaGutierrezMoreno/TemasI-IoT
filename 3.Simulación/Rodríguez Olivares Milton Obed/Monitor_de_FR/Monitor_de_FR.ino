//**MONITOR DE FRECUENCIA RESPIRATORIA**
//**TEMAS SELECTOS DE ELECTRÓNICA Y COMPUTACIÓN**
//**INTERNET DE LAS COSAS**
//**FACULTAD DE INSTRUMETNTACIÓN EÑLECTRÓNICA
//**UNIVERSIDAD VERACRUZANA
//´**AUTORES:
//**CASTILLO VASQUEZ JORGE MIGUEL
//**COLORADO MARTÍNEZ JESSÚS ALEJADNRO
//**GUTIÉRREZ MORENO ANGÉLICA
//**CATEDRATICO:
//**SERGIO FRANCISCO HERNÁNDEZ MACHUCA

//Librerías a incluir
#include <WiFi.h>                 //Librería para conectar a WiFi
#include <PubSubClient.h>         //Librería para el cliente, con esto es posible conectarse a la red
#include "DHTesp.h"               //Librería para el sensor DHT11

//Definición de variables
#define DHTpin 4                  //Pin para el sensor DHT11 (GPIO 4)
#define WIFISSID "JOMI"           //Nombre de la red WiFi que se conectará la ESP32
#define PASSWORD "12345678"       //Contraseña de la red WiFi
//cuenta 1
#define TOKEN "BBFF-q94t6MVy5ze2cPyHPk0kE158UVAyX2" //TOKEN del servidor Ubidots
//cuenta 2
//#define TOKEN "BBFF-sJLNHu2aw6kATFvlxwCMN8MDDiIybs" //TOKEN del servidor Ubidots

#define MQTT_CLIENT_NAME "JorgeMigu" //Nombre del cliente MQTT,se debe introducir un una conmbinación alfanumérica de 8 a 12 caracteres
// Etiqueta de las variables que se destinarán al servidor
#define VARIABLE_LABEL "respiracion" //Variable de la frecuencia respiratoria
#define VARIABLE_LABEL_SUBSCRIBE "contador" //Variable del contador de repiraciones por minuto
#define VARIABLE_LABEL_SUBSCRIBE2 "temperatura" //Variable de la temperatura corporal
#define VARIABLE_LABEL_SUBSCRIBE3 "temperaturaambiente" //Variable de la temperatura ambiente
#define DEVICE_LABEL "esp32s" // Etiqueta del dispositivo

const int sensor = 34;            //Pin asignado al sensor MQ135

byte data[128] ;                  // Para guardar las lecturas del sensor MQ135
byte indexs = 0 ;
byte anterior;

int ThermistorPin = 35;           //Pin asignado al termistor 


//Valores para la configuración del termistor
double R1 = 10000.0;              // Valor de la resistencia que se pondrá en serie con el termistor
double Beta = 3950.0;             // Valor de beta (ver datasheet)
double To = 298.15;               // Temperatura en Kelvin a 25°C
double Ro = 10000.0;              // Resistencia del termistor a 25°C (ver datasheet)
//LUT PARA EL ADC, ya que el comportamiento del ADC de la placa ESP32 no es lineal se crea esta matriz para volverlo lineal
//Más información en: https://github.com/e-tinkers/esp32-adc-calibrate
const float ADC_LUT[4096] PROGMEM  = { 0,
33.0000,34.8000,36.4000,38.0000,39.8000,41.6000,43.0000,44.8000,46.8000,48.0000,49.6000,50.8000,52.0000,53.2000,54.6000,
55.8000,57.0000,58.2000,59.6000,60.8000,62.0000,63.2000,64.6000,65.4000,66.4000,67.2000,68.2000,69.2000,70.0000,71.0000,
72.0000,73.0000,74.0000,75.0000,76.0000,77.0000,77.8000,78.8000,79.8000,81.0000,82.0000,83.4000,84.8000,86.0000,87.0000,
88.4000,89.8000,90.8000,92.0000,93.4000,94.8000,95.8000,97.0000,98.2000,99.6000,100.8000,102.0000,103.0000,104.2000,105.6000,
106.8000,108.0000,109.0000,110.4000,111.8000,112.8000,113.8000,114.8000,116.0000,117.0000,118.0000,119.0000,120.0000,121.2000,122.2000,
123.4000,124.6000,125.8000,126.8000,127.8000,128.8000,129.8000,131.0000,132.0000,133.0000,134.0000,135.0000,136.2000,137.4000,138.4000,
139.6000,140.8000,141.8000,142.8000,143.8000,144.8000,145.8000,146.8000,147.8000,148.8000,149.8000,150.8000,151.8000,152.8000,153.8000,
154.8000,155.8000,156.8000,157.8000,158.8000,159.8000,160.8000,161.8000,162.8000,163.8000,164.8000,165.8000,166.6000,167.6000,168.6000,
169.4000,170.4000,171.2000,172.2000,173.2000,174.0000,175.0000,176.0000,177.8000,179.0000,180.8000,182.0000,183.8000,185.2000,186.8000,
188.2000,189.8000,191.4000,192.8000,194.0000,195.4000,196.8000,198.0000,199.0000,200.6000,201.8000,203.0000,204.4000,205.8000,207.0000,
208.2000,209.2000,210.2000,211.2000,212.2000,213.2000,214.2000,215.4000,216.4000,217.4000,218.4000,219.4000,220.4000,221.4000,222.4000,
223.4000,224.6000,225.8000,226.8000,228.0000,229.0000,230.2000,231.6000,232.8000,233.8000,235.0000,236.0000,237.2000,238.4000,239.8000,
240.8000,242.0000,243.8000,245.0000,246.2000,247.8000,249.0000,250.4000,251.8000,253.0000,254.8000,256.0000,257.0000,258.0000,259.0000,
260.0000,260.8000,261.8000,262.8000,263.8000,264.8000,265.8000,266.8000,267.8000,268.8000,269.8000,270.8000,271.8000,272.8000,273.8000,
274.8000,275.8000,277.0000,278.0000,279.0000,280.0000,281.0000,282.2000,283.4000,284.4000,285.6000,286.8000,287.8000,288.8000,289.8000,
290.8000,291.8000,292.8000,293.8000,294.8000,295.6000,296.6000,297.6000,298.6000,299.4000,300.4000,301.4000,302.4000,303.4000,304.2000,
305.2000,306.2000,307.2000,308.2000,309.2000,310.2000,311.2000,312.2000,313.2000,314.2000,315.2000,316.2000,317.2000,318.2000,319.2000,
320.2000,321.8000,323.6000,325.0000,326.8000,328.0000,329.8000,331.4000,333.0000,334.8000,336.0000,337.2000,338.6000,339.8000,340.8000,
342.0000,343.2000,344.4000,345.8000,346.8000,348.0000,349.0000,350.4000,351.8000,352.8000,353.8000,354.6000,355.6000,356.4000,357.4000,
358.4000,359.2000,360.2000,361.0000,362.0000,363.0000,364.0000,365.0000,366.0000,367.0000,367.8000,369.0000,370.6000,372.0000,373.2000,
374.8000,376.0000,377.6000,379.0000,380.2000,381.8000,383.0000,384.6000,385.8000,386.8000,387.8000,389.0000,390.0000,391.0000,392.4000,
393.6000,394.8000,395.8000,396.8000,398.0000,399.0000,400.2000,401.2000,402.4000,403.6000,404.8000,405.8000,406.8000,407.8000,409.0000,
410.0000,411.0000,412.0000,413.2000,414.4000,415.6000,416.6000,417.6000,418.6000,419.6000,420.6000,421.6000,422.6000,423.6000,424.4000,
425.4000,426.4000,427.4000,428.4000,429.4000,430.4000,431.4000,432.4000,433.4000,434.6000,435.6000,436.8000,437.8000,438.8000,439.8000,
440.8000,441.8000,442.8000,444.0000,445.0000,446.0000,447.0000,448.0000,449.0000,450.0000,451.0000,452.0000,453.2000,454.2000,455.2000,
456.4000,457.4000,458.4000,459.6000,460.6000,461.6000,462.8000,463.8000,464.8000,466.4000,468.0000,469.6000,471.0000,472.6000,474.0000,
475.8000,477.0000,478.8000,480.0000,481.2000,482.4000,483.6000,484.8000,485.8000,486.8000,487.8000,489.0000,490.0000,491.0000,492.0000,
493.2000,494.2000,495.4000,496.6000,497.8000,499.0000,500.0000,501.2000,502.6000,503.8000,504.8000,506.0000,507.2000,508.6000,509.8000,
510.8000,512.0000,513.0000,514.2000,515.4000,516.8000,517.8000,518.8000,520.0000,521.0000,522.0000,523.2000,524.6000,525.8000,526.8000,
527.8000,529.0000,530.2000,531.6000,532.8000,534.0000,535.2000,536.6000,537.8000,539.0000,540.0000,541.4000,542.8000,544.0000,545.0000,
546.0000,547.0000,548.0000,549.0000,550.0000,551.2000,552.2000,553.4000,554.4000,555.6000,556.6000,557.8000,558.8000,559.8000,560.8000,
561.8000,562.8000,563.8000,564.8000,565.8000,567.0000,568.0000,569.0000,570.0000,571.0000,572.0000,573.0000,574.0000,575.0000,576.0000,
577.0000,578.0000,579.0000,580.0000,581.0000,582.0000,583.0000,584.0000,585.0000,586.0000,587.0000,588.0000,589.0000,590.0000,591.0000,
592.0000,593.0000,594.4000,595.8000,596.8000,598.0000,599.2000,600.6000,601.8000,603.0000,604.0000,605.6000,606.8000,608.0000,609.0000,
609.8000,610.8000,611.8000,612.8000,613.8000,614.6000,615.6000,616.4000,617.2000,618.0000,619.0000,620.0000,621.0000,622.0000,623.0000,
623.8000,624.8000,625.8000,626.8000,627.8000,628.8000,629.8000,630.8000,631.8000,632.8000,633.6000,634.6000,635.6000,636.6000,637.4000,
638.4000,639.4000,640.2000,641.4000,642.4000,643.6000,644.6000,645.8000,646.8000,647.8000,648.8000,649.8000,650.8000,651.8000,652.8000,
654.0000,655.0000,656.0000,657.0000,658.0000,659.2000,660.4000,661.4000,662.6000,663.8000,664.8000,665.8000,666.8000,668.0000,669.0000,
670.0000,671.0000,672.2000,673.4000,674.8000,675.8000,677.0000,678.0000,679.2000,680.6000,681.8000,682.8000,684.0000,685.0000,686.2000,
687.6000,688.8000,690.4000,692.0000,693.8000,695.0000,696.8000,698.4000,700.0000,701.8000,703.0000,704.6000,705.2000,706.0000,706.8000,
707.8000,708.6000,709.2000,710.0000,710.8000,711.8000,712.6000,713.2000,714.0000,714.8000,715.8000,716.6000,717.2000,718.0000,718.8000,
719.8000,720.8000,722.2000,723.8000,725.4000,727.0000,728.8000,730.0000,731.8000,733.0000,734.8000,736.2000,737.2000,738.4000,739.4000,
740.4000,741.6000,742.6000,743.8000,744.8000,745.8000,746.8000,747.8000,748.8000,749.8000,750.8000,751.8000,753.0000,754.0000,755.4000,
756.8000,757.8000,759.0000,760.0000,761.2000,762.6000,763.8000,764.8000,766.0000,767.0000,768.4000,769.8000,770.8000,771.8000,773.0000,
774.0000,775.2000,776.6000,777.8000,778.8000,780.0000,781.0000,782.0000,783.4000,784.4000,785.2000,786.0000,787.0000,788.0000,789.0000,
789.8000,790.8000,791.8000,792.8000,793.6000,794.4000,795.2000,796.0000,797.0000,798.0000,798.8000,799.8000,800.8000,802.0000,803.4000,
804.8000,805.8000,807.0000,808.4000,809.8000,811.0000,812.0000,813.4000,814.8000,816.0000,817.0000,818.4000,819.8000,821.0000,822.0000,
823.4000,824.8000,825.8000,827.0000,828.4000,829.8000,830.8000,832.0000,833.2000,834.4000,835.8000,836.8000,837.8000,839.0000,840.0000,
841.2000,842.6000,843.8000,844.8000,846.0000,847.0000,848.2000,849.4000,850.6000,851.8000,852.8000,853.8000,855.0000,856.0000,857.0000,
858.2000,859.4000,860.6000,861.8000,862.8000,863.8000,865.0000,866.0000,867.0000,868.2000,869.4000,870.6000,871.8000,872.8000,873.8000,
875.0000,876.0000,877.0000,878.2000,879.4000,880.8000,881.8000,882.8000,883.8000,885.0000,886.0000,887.0000,888.2000,889.6000,890.8000,
891.8000,892.8000,893.8000,895.0000,896.0000,897.0000,898.2000,899.2000,900.4000,901.6000,902.8000,903.8000,904.8000,905.8000,906.8000,
908.0000,909.0000,910.0000,911.0000,912.2000,913.0000,914.0000,915.0000,916.0000,917.0000,918.0000,919.0000,920.0000,921.0000,922.0000,
923.0000,924.0000,925.0000,926.0000,927.0000,928.0000,929.0000,930.0000,931.2000,932.4000,933.6000,934.8000,935.8000,936.8000,938.0000,
939.0000,940.0000,941.4000,942.6000,943.8000,944.8000,945.8000,946.8000,947.8000,948.6000,949.6000,950.6000,951.4000,952.4000,953.4000,
954.2000,955.2000,956.2000,957.0000,958.0000,959.0000,960.0000,961.2000,962.6000,963.8000,964.8000,966.0000,967.0000,968.0000,969.4000,
970.6000,971.8000,972.8000,974.0000,975.0000,976.2000,977.8000,978.8000,980.0000,981.4000,982.8000,984.0000,985.0000,986.6000,987.8000,
989.0000,990.2000,991.8000,992.8000,993.8000,994.8000,996.0000,997.0000,998.0000,999.0000,1000.0000,1001.2000,1002.2000,1003.4000,1004.6000,
1005.6000,1006.8000,1007.8000,1008.4000,1008.8000,1009.0000,1009.8000,1010.0000,1010.4000,1010.8000,1011.0000,1011.8000,1012.0000,1012.4000,1012.8000,
1013.0000,1013.8000,1014.0000,1014.4000,1014.8000,1015.0000,1015.8000,1016.0000,1016.4000,1016.8000,1017.0000,1017.8000,1018.0000,1018.4000,1018.8000,
1019.0000,1019.8000,1020.0000,1020.4000,1020.8000,1021.0000,1021.8000,1022.0000,1022.4000,1022.8000,1023.2000,1023.8000,1024.0000,1024.8000,1025.8000,
1026.8000,1027.8000,1028.8000,1029.8000,1030.8000,1031.8000,1032.8000,1033.8000,1034.8000,1035.8000,1036.8000,1037.8000,1038.8000,1039.8000,1040.8000,
1041.8000,1042.8000,1044.0000,1045.0000,1046.0000,1047.0000,1048.0000,1049.0000,1050.2000,1051.2000,1052.4000,1053.4000,1054.6000,1055.8000,1056.8000,
1057.8000,1058.8000,1059.8000,1060.8000,1061.8000,1062.8000,1063.8000,1064.8000,1065.8000,1066.8000,1067.8000,1068.8000,1070.0000,1071.0000,1072.0000,
1073.0000,1074.4000,1075.8000,1077.0000,1078.0000,1079.6000,1080.8000,1082.0000,1083.0000,1084.6000,1085.8000,1087.0000,1088.2000,1089.2000,1090.4000,
1091.6000,1092.8000,1093.8000,1094.8000,1095.8000,1096.8000,1098.0000,1099.0000,1100.0000,1101.0000,1102.2000,1103.4000,1104.4000,1105.4000,1106.4000,
1107.4000,1108.4000,1109.2000,1110.2000,1111.2000,1112.2000,1113.2000,1114.2000,1115.2000,1116.2000,1117.0000,1118.0000,1119.0000,1120.0000,1121.2000,
1122.6000,1123.8000,1124.8000,1125.8000,1127.0000,1128.0000,1129.2000,1130.4000,1131.8000,1132.8000,1133.8000,1135.0000,1136.0000,1137.0000,1137.8000,
1138.8000,1139.4000,1140.0000,1141.0000,1141.8000,1142.8000,1143.4000,1144.0000,1145.0000,1145.8000,1146.8000,1147.4000,1148.0000,1149.0000,1149.8000,
1150.8000,1151.4000,1152.0000,1153.2000,1154.6000,1155.8000,1156.8000,1157.8000,1158.8000,1160.0000,1161.0000,1162.0000,1163.2000,1164.4000,1165.6000,
1166.8000,1167.8000,1168.8000,1169.8000,1170.8000,1172.0000,1173.0000,1174.0000,1175.0000,1176.0000,1177.0000,1178.0000,1179.0000,1180.2000,1181.2000,
1182.2000,1183.4000,1184.6000,1185.8000,1187.0000,1188.0000,1189.4000,1190.8000,1192.0000,1193.0000,1194.4000,1195.8000,1197.0000,1198.0000,1199.4000,
1200.8000,1202.0000,1203.0000,1204.4000,1205.8000,1206.8000,1208.0000,1209.2000,1210.6000,1211.8000,1213.0000,1214.0000,1215.4000,1216.8000,1217.8000,
1218.8000,1219.8000,1220.8000,1221.8000,1222.8000,1223.8000,1224.8000,1225.8000,1226.8000,1227.8000,1228.8000,1229.8000,1230.8000,1231.8000,1232.8000,
1233.8000,1234.8000,1235.8000,1237.0000,1238.0000,1239.0000,1240.0000,1241.0000,1242.0000,1243.0000,1244.0000,1245.0000,1246.2000,1247.2000,1248.4000,
1249.8000,1250.8000,1252.0000,1253.2000,1254.6000,1255.8000,1257.0000,1258.0000,1259.4000,1260.8000,1261.8000,1263.0000,1264.2000,1265.4000,1266.6000,
1267.8000,1268.8000,1269.8000,1271.0000,1272.0000,1273.0000,1274.0000,1275.2000,1276.4000,1277.8000,1278.8000,1279.8000,1280.8000,1282.0000,1283.0000,
1284.0000,1285.0000,1286.0000,1287.0000,1288.2000,1289.4000,1290.4000,1291.6000,1292.8000,1293.8000,1294.8000,1295.8000,1297.0000,1298.0000,1299.2000,
1300.6000,1301.8000,1303.0000,1304.0000,1305.2000,1306.6000,1307.8000,1309.0000,1310.0000,1311.2000,1312.4000,1313.4000,1314.2000,1315.2000,1316.0000,
1317.0000,1318.0000,1319.0000,1320.0000,1321.0000,1321.8000,1322.8000,1323.8000,1324.8000,1325.8000,1326.8000,1327.6000,1328.6000,1329.8000,1330.8000,
1331.8000,1333.0000,1334.0000,1335.0000,1336.0000,1337.2000,1338.4000,1339.6000,1340.8000,1341.8000,1342.8000,1344.0000,1345.0000,1346.2000,1347.6000,
1348.8000,1349.8000,1351.0000,1352.2000,1353.4000,1354.8000,1355.8000,1357.0000,1358.0000,1359.4000,1360.8000,1361.8000,1362.8000,1363.8000,1365.0000,
1366.0000,1367.0000,1368.2000,1369.4000,1370.6000,1371.8000,1372.8000,1373.8000,1374.8000,1376.0000,1377.0000,1378.0000,1379.0000,1380.0000,1381.0000,
1382.0000,1383.0000,1384.0000,1385.0000,1386.0000,1387.0000,1388.0000,1389.0000,1390.0000,1391.0000,1392.0000,1393.6000,1394.8000,1396.0000,1397.2000,
1398.8000,1399.8000,1401.0000,1402.4000,1403.8000,1405.0000,1406.2000,1407.6000,1408.8000,1409.8000,1411.0000,1412.0000,1413.0000,1414.0000,1415.2000,
1416.4000,1417.6000,1418.8000,1419.8000,1420.8000,1421.8000,1423.0000,1424.0000,1425.0000,1426.2000,1427.4000,1428.6000,1429.8000,1430.8000,1431.8000,
1433.0000,1434.0000,1435.0000,1436.4000,1437.6000,1438.8000,1439.8000,1440.8000,1441.8000,1442.8000,1443.8000,1444.8000,1445.8000,1446.8000,1447.8000,
1448.8000,1449.8000,1450.8000,1451.8000,1452.8000,1453.8000,1454.8000,1455.8000,1456.8000,1457.8000,1458.8000,1460.0000,1461.0000,1462.0000,1463.0000,
1464.0000,1465.2000,1466.2000,1467.4000,1468.6000,1469.6000,1470.8000,1471.8000,1472.8000,1473.8000,1475.0000,1476.0000,1477.0000,1478.0000,1479.0000,
1480.2000,1481.4000,1482.6000,1483.6000,1484.8000,1485.8000,1486.8000,1487.8000,1489.0000,1490.0000,1491.0000,1492.0000,1493.2000,1494.4000,1495.6000,
1496.8000,1497.8000,1498.8000,1500.0000,1501.0000,1502.0000,1503.0000,1504.2000,1505.4000,1506.6000,1507.6000,1508.8000,1509.8000,1510.8000,1511.8000,
1512.8000,1514.0000,1515.0000,1516.0000,1517.0000,1518.0000,1519.0000,1520.2000,1521.6000,1522.8000,1523.8000,1525.0000,1526.0000,1527.2000,1528.6000,
1529.8000,1530.8000,1532.0000,1533.0000,1534.2000,1535.6000,1536.8000,1538.0000,1539.0000,1540.2000,1541.6000,1542.8000,1544.0000,1545.0000,1546.4000,
1547.8000,1548.8000,1550.0000,1551.0000,1552.4000,1553.8000,1554.8000,1556.0000,1557.0000,1558.2000,1559.4000,1560.8000,1561.8000,1563.0000,1564.0000,
1565.2000,1566.6000,1567.8000,1568.8000,1570.0000,1571.0000,1572.4000,1573.8000,1574.8000,1576.0000,1577.0000,1578.2000,1579.6000,1580.8000,1581.8000,
1583.0000,1584.0000,1585.0000,1586.0000,1587.0000,1588.0000,1589.0000,1590.0000,1590.8000,1591.8000,1592.8000,1593.8000,1594.8000,1595.8000,1596.8000,
1597.8000,1598.6000,1599.6000,1600.6000,1601.8000,1602.8000,1603.8000,1605.0000,1606.0000,1607.0000,1608.2000,1609.6000,1610.8000,1611.8000,1612.8000,
1614.0000,1615.0000,1616.0000,1617.2000,1618.4000,1619.6000,1620.8000,1621.8000,1622.8000,1624.0000,1625.0000,1626.0000,1627.2000,1628.4000,1629.6000,
1630.8000,1631.8000,1632.8000,1633.8000,1635.0000,1636.0000,1637.0000,1638.0000,1639.0000,1640.2000,1641.4000,1642.4000,1643.6000,1644.8000,1645.8000,
1646.8000,1647.8000,1649.0000,1650.0000,1651.2000,1652.6000,1653.8000,1654.8000,1656.0000,1657.2000,1658.6000,1659.8000,1660.8000,1662.0000,1663.0000,
1664.4000,1665.2000,1666.0000,1667.0000,1668.0000,1669.0000,1670.0000,1670.8000,1671.8000,1672.8000,1673.8000,1674.8000,1675.6000,1676.4000,1677.4000,
1678.2000,1679.0000,1680.0000,1681.2000,1682.6000,1683.8000,1685.0000,1686.0000,1687.4000,1688.8000,1689.8000,1691.0000,1692.0000,1693.4000,1694.8000,
1695.8000,1697.0000,1698.4000,1699.8000,1701.0000,1702.2000,1703.8000,1705.0000,1706.0000,1707.8000,1708.8000,1710.0000,1711.6000,1712.6000,1713.2000,
1714.0000,1714.8000,1715.6000,1716.2000,1717.0000,1717.8000,1718.6000,1719.0000,1720.0000,1720.8000,1721.6000,1722.0000,1723.0000,1723.8000,1724.6000,
1725.0000,1726.0000,1726.8000,1727.6000,1728.0000,1729.0000,1730.0000,1731.0000,1732.0000,1733.0000,1734.0000,1735.0000,1736.0000,1737.0000,1737.8000,
1738.8000,1739.8000,1740.8000,1741.8000,1742.8000,1743.8000,1744.8000,1745.8000,1747.0000,1748.0000,1749.2000,1750.4000,1751.8000,1752.8000,1753.8000,
1755.0000,1756.0000,1757.0000,1758.2000,1759.6000,1760.8000,1762.0000,1763.0000,1764.4000,1765.8000,1767.0000,1768.0000,1769.6000,1770.8000,1772.0000,
1773.2000,1774.8000,1775.8000,1777.4000,1779.0000,1780.8000,1782.4000,1784.0000,1785.8000,1787.2000,1789.0000,1790.8000,1792.0000,1793.0000,1794.0000,
1794.8000,1795.8000,1796.8000,1797.6000,1798.4000,1799.0000,1800.0000,1801.0000,1801.8000,1802.8000,1803.8000,1804.6000,1805.2000,1806.0000,1807.0000,
1808.0000,1809.0000,1810.0000,1811.4000,1812.6000,1813.8000,1814.8000,1816.0000,1817.0000,1818.2000,1819.6000,1820.8000,1821.8000,1823.0000,1824.0000,
1825.0000,1826.2000,1827.4000,1828.4000,1829.6000,1830.8000,1831.8000,1832.8000,1833.8000,1835.0000,1836.0000,1837.0000,1838.0000,1839.2000,1840.4000,
1841.8000,1842.8000,1843.8000,1845.0000,1846.0000,1847.2000,1848.6000,1849.8000,1850.8000,1852.0000,1853.0000,1854.0000,1855.4000,1856.6000,1857.6000,
1858.6000,1859.8000,1860.8000,1861.8000,1862.8000,1863.8000,1864.8000,1865.8000,1866.8000,1867.8000,1868.8000,1869.8000,1870.8000,1871.8000,1872.8000,
1873.8000,1874.8000,1875.8000,1876.8000,1877.8000,1878.8000,1880.0000,1881.0000,1882.0000,1883.0000,1884.0000,1885.0000,1886.0000,1887.0000,1888.0000,
1889.0000,1890.0000,1891.2000,1892.4000,1893.6000,1894.8000,1895.8000,1896.8000,1898.0000,1899.0000,1900.0000,1901.2000,1902.4000,1903.6000,1904.8000,
1905.8000,1907.0000,1908.0000,1909.4000,1910.8000,1911.8000,1913.0000,1914.0000,1915.4000,1916.8000,1917.8000,1919.0000,1920.0000,1921.4000,1922.8000,
1923.8000,1925.0000,1926.4000,1927.8000,1928.8000,1930.0000,1931.2000,1932.8000,1933.8000,1935.0000,1936.2000,1937.0000,1938.0000,1939.0000,1940.0000,
1941.0000,1942.0000,1943.0000,1944.0000,1945.0000,1946.0000,1947.0000,1947.8000,1948.8000,1949.8000,1950.8000,1951.8000,1952.8000,1954.0000,1955.4000,
1956.8000,1958.0000,1959.0000,1960.4000,1961.8000,1963.0000,1964.0000,1965.4000,1966.8000,1968.0000,1969.0000,1970.0000,1971.2000,1972.4000,1973.6000,
1974.6000,1975.8000,1976.8000,1977.8000,1979.0000,1980.0000,1981.0000,1982.0000,1983.2000,1984.4000,1985.8000,1986.8000,1987.8000,1989.0000,1990.0000,
1991.2000,1992.6000,1993.8000,1994.8000,1996.0000,1997.0000,1998.2000,1999.6000,2000.6000,2001.6000,2002.6000,2003.4000,2004.4000,2005.4000,2006.2000,
2007.2000,2008.2000,2009.0000,2010.0000,2011.0000,2012.0000,2013.0000,2014.0000,2015.0000,2016.0000,2017.0000,2018.0000,2019.0000,2020.0000,2021.2000,
2022.4000,2023.4000,2024.6000,2025.8000,2026.8000,2027.8000,2028.8000,2029.8000,2031.0000,2032.0000,2032.8000,2033.8000,2034.6000,2035.2000,2036.0000,
2037.0000,2037.8000,2038.8000,2039.4000,2040.0000,2041.0000,2041.8000,2042.8000,2043.4000,2044.2000,2045.0000,2045.8000,2046.8000,2047.6000,2048.3999,
2049.8000,2050.8000,2052.0000,2053.0000,2054.0000,2055.3999,2056.8000,2057.8000,2059.0000,2060.0000,2061.2000,2062.3999,2063.8000,2064.8000,2065.8000,
2066.8000,2067.8000,2068.8000,2069.6001,2070.6001,2071.6001,2072.6001,2073.3999,2074.3999,2075.3999,2076.3999,2077.2000,2078.2000,2079.2000,2080.2000,
2081.3999,2082.6001,2083.8000,2084.8000,2085.8000,2086.8000,2088.0000,2089.0000,2090.0000,2091.2000,2092.3999,2093.6001,2094.8000,2095.8000,2096.8000,
2097.8000,2099.0000,2100.0000,2101.0000,2102.0000,2103.0000,2104.2000,2105.2000,2106.3999,2107.6001,2108.6001,2109.8000,2110.8000,2111.8000,2112.8000,
2113.8000,2115.0000,2116.0000,2117.0000,2118.0000,2119.0000,2120.0000,2121.0000,2122.2000,2123.3999,2124.3999,2125.6001,2126.6001,2127.8000,2128.8000,
2130.0000,2131.2000,2132.8000,2133.8000,2135.0000,2136.3999,2137.8000,2139.0000,2140.0000,2141.6001,2142.8000,2144.0000,2145.0000,2146.0000,2147.0000,
2148.0000,2149.0000,2150.0000,2150.8000,2151.8000,2152.8000,2153.8000,2154.8000,2155.8000,2156.8000,2157.8000,2158.8000,2159.6001,2160.8000,2162.0000,
2163.3999,2164.8000,2166.0000,2167.6001,2168.8000,2170.2000,2171.8000,2173.0000,2174.3999,2175.8000,2177.0000,2178.0000,2179.0000,2180.0000,2181.0000,
2182.0000,2183.2000,2184.3999,2185.3999,2186.6001,2187.6001,2188.8000,2189.8000,2190.8000,2191.8000,2193.0000,2194.0000,2195.2000,2196.6001,2197.8000,
2199.0000,2200.0000,2201.2000,2202.6001,2203.8000,2204.8000,2206.0000,2207.2000,2208.3999,2209.3999,2210.3999,2211.3999,2212.6001,2213.6001,2214.6001,
2215.6001,2216.6001,2217.6001,2218.6001,2219.8000,2220.8000,2221.8000,2222.8000,2223.8000,2224.8000,2226.0000,2227.0000,2228.2000,2229.6001,2230.8000,
2232.0000,2233.0000,2234.2000,2235.6001,2236.8000,2238.0000,2239.0000,2240.2000,2241.0000,2242.0000,2243.0000,2244.0000,2245.0000,2246.0000,2246.8000,
2247.8000,2248.8000,2249.8000,2250.8000,2251.6001,2252.6001,2253.3999,2254.2000,2255.2000,2256.0000,2257.0000,2258.0000,2259.0000,2260.0000,2260.8000,
2261.8000,2262.8000,2263.8000,2264.6001,2265.6001,2266.3999,2267.2000,2268.0000,2269.0000,2270.0000,2271.0000,2272.0000,2273.0000,2273.8000,2274.8000,
2275.8000,2276.8000,2277.8000,2278.8000,2279.8000,2280.8000,2281.8000,2282.8000,2283.8000,2284.8000,2285.8000,2286.8000,2287.8000,2288.8000,2290.0000,
2291.0000,2292.6001,2293.8000,2295.0000,2296.3999,2297.8000,2299.0000,2300.2000,2301.8000,2302.8000,2304.0000,2305.0000,2306.2000,2307.2000,2308.3999,
2309.3999,2310.6001,2311.6001,2312.8000,2313.8000,2314.8000,2315.8000,2316.8000,2317.8000,2319.0000,2320.0000,2321.0000,2322.6001,2323.8000,2325.0000,
2326.2000,2327.8000,2328.8000,2330.0000,2331.3999,2332.8000,2334.0000,2335.0000,2336.3999,2337.6001,2338.8000,2339.8000,2340.8000,2342.0000,2343.0000,
2344.0000,2345.2000,2346.3999,2347.6001,2348.8000,2349.8000,2350.8000,2352.0000,2353.0000,2354.0000,2355.0000,2356.0000,2357.2000,2358.3999,2359.3999,
2360.6001,2361.8000,2362.8000,2363.8000,2364.8000,2365.8000,2367.0000,2368.0000,2369.0000,2370.0000,2371.0000,2372.0000,2373.0000,2374.0000,2375.0000,
2376.0000,2377.0000,2378.0000,2379.0000,2380.2000,2381.2000,2382.2000,2383.2000,2384.3999,2385.8000,2387.0000,2388.6001,2389.8000,2391.0000,2392.8000,
2394.0000,2395.2000,2396.8000,2398.0000,2399.3999,2400.8000,2401.8000,2402.8000,2403.8000,2404.8000,2405.8000,2407.0000,2408.0000,2409.0000,2410.0000,
2411.0000,2412.0000,2413.0000,2414.2000,2415.2000,2416.3999,2417.6001,2418.8000,2419.8000,2420.8000,2421.8000,2423.0000,2424.0000,2425.0000,2426.0000,
2427.2000,2428.3999,2429.6001,2430.8000,2431.8000,2432.8000,2433.8000,2434.8000,2436.0000,2437.0000,2438.0000,2439.0000,2440.0000,2441.2000,2442.3999,
2443.3999,2444.6001,2445.8000,2446.8000,2447.8000,2448.8000,2450.0000,2451.0000,2452.2000,2453.6001,2454.8000,2455.8000,2457.0000,2458.0000,2459.2000,
2460.6001,2461.8000,2462.8000,2464.0000,2465.0000,2466.0000,2467.0000,2468.0000,2469.2000,2470.2000,2471.3999,2472.3999,2473.6001,2474.6001,2475.8000,
2476.8000,2477.8000,2478.8000,2479.8000,2481.0000,2482.0000,2483.6001,2484.8000,2486.0000,2487.0000,2488.6001,2489.8000,2491.0000,2492.0000,2493.6001,
2494.8000,2496.0000,2497.0000,2497.8000,2498.8000,2499.8000,2500.6001,2501.3999,2502.2000,2503.0000,2504.0000,2505.0000,2505.8000,2506.8000,2507.8000,
2508.6001,2509.3999,2510.2000,2511.0000,2512.0000,2513.3999,2514.8000,2516.2000,2517.8000,2519.0000,2520.8000,2522.0000,2523.8000,2525.0000,2526.6001,
2528.0000,2529.0000,2530.0000,2531.0000,2532.0000,2533.0000,2534.0000,2535.0000,2536.0000,2537.0000,2538.0000,2539.0000,2540.0000,2541.0000,2542.0000,
2543.0000,2544.2000,2545.8000,2547.0000,2548.8000,2550.0000,2551.8000,2553.0000,2554.8000,2556.0000,2557.8000,2559.0000,2560.3999,2561.3999,2562.3999,
2563.3999,2564.3999,2565.3999,2566.6001,2567.6001,2568.6001,2569.6001,2570.6001,2571.6001,2572.6001,2573.6001,2574.6001,2575.6001,2576.6001,2577.8000,
2578.8000,2580.0000,2581.0000,2582.0000,2583.3999,2584.6001,2585.8000,2586.8000,2587.8000,2589.0000,2590.0000,2591.2000,2592.3999,2593.6001,2594.8000,
2595.8000,2596.8000,2597.8000,2598.8000,2599.8000,2601.0000,2602.0000,2603.0000,2604.0000,2605.0000,2606.2000,2607.3999,2608.3999,2609.6001,2610.6001,
2611.6001,2612.8000,2613.8000,2614.8000,2615.8000,2616.8000,2617.8000,2618.8000,2619.8000,2620.8000,2622.0000,2623.0000,2624.0000,2625.0000,2626.2000,
2627.6001,2628.8000,2629.8000,2631.0000,2632.0000,2633.3999,2634.8000,2635.8000,2637.0000,2638.0000,2639.3999,2640.6001,2641.3999,2642.3999,2643.3999,
2644.3999,2645.2000,2646.2000,2647.2000,2648.0000,2649.0000,2650.0000,2651.0000,2652.0000,2653.0000,2654.0000,2655.0000,2656.0000,2657.2000,2658.8000,
2659.8000,2661.0000,2662.6001,2663.8000,2665.0000,2666.6001,2667.8000,2669.0000,2670.3999,2671.8000,2672.8000,2674.0000,2675.0000,2676.0000,2677.0000,
2678.2000,2679.2000,2680.3999,2681.6001,2682.8000,2683.8000,2684.8000,2685.8000,2686.8000,2688.0000,2689.0000,2690.8000,2691.8000,2693.0000,2694.6001,
2695.8000,2697.0000,2698.6001,2699.8000,2701.0000,2702.6001,2703.8000,2704.8000,2705.8000,2706.8000,2707.8000,2708.8000,2709.8000,2710.6001,2711.3999,
2712.3999,2713.2000,2714.0000,2715.0000,2716.0000,2717.0000,2718.0000,2718.8000,2719.8000,2721.0000,2722.0000,2723.2000,2724.6001,2725.8000,2726.8000,
2728.0000,2729.2000,2730.6001,2731.8000,2732.8000,2734.0000,2735.0000,2736.3999,2737.6001,2738.8000,2739.8000,2740.8000,2742.0000,2743.0000,2744.0000,
2745.2000,2746.6001,2747.8000,2748.8000,2749.8000,2751.0000,2752.0000,2753.0000,2754.0000,2755.2000,2756.3999,2757.6001,2758.8000,2759.8000,2760.8000,
2762.0000,2763.0000,2764.0000,2765.0000,2766.2000,2767.3999,2768.6001,2769.6001,2770.8000,2771.8000,2772.8000,2773.8000,2774.8000,2775.8000,2776.8000,
2777.8000,2778.8000,2779.8000,2780.8000,2781.8000,2783.0000,2784.0000,2785.0000,2786.0000,2787.0000,2788.0000,2789.0000,2790.0000,2791.0000,2792.0000,
2793.0000,2794.0000,2795.0000,2796.0000,2797.0000,2798.0000,2799.0000,2800.0000,2801.6001,2803.0000,2804.8000,2806.0000,2807.8000,2809.0000,2810.8000,
2812.2000,2813.8000,2815.2000,2817.2000,2820.0000,2822.6001,2825.0000,2827.8000,2830.2000,2832.2000,2832.8000,2833.3999,2834.0000,2834.6001,2835.0000,
2835.8000,2836.0000,2836.8000,2837.0000,2837.8000,2838.2000,2838.8000,2839.3999,2840.0000,2840.6001,2841.0000,2841.8000,2842.0000,2842.8000,2843.0000,
2843.8000,2844.2000,2844.8000,2845.3999,2846.0000,2846.6001,2847.0000,2847.8000,2848.0000,2849.0000,2850.0000,2851.0000,2852.0000,2853.0000,2854.0000,
2855.0000,2856.0000,2857.0000,2858.0000,2859.0000,2860.0000,2861.0000,2862.0000,2863.0000,2864.0000,2865.0000,2866.0000,2867.2000,2868.2000,2869.3999,
2870.3999,2871.3999,2872.6001,2873.6001,2874.8000,2875.8000,2876.8000,2877.8000,2878.8000,2879.8000,2881.0000,2882.2000,2883.8000,2885.0000,2886.3999,
2887.8000,2889.0000,2890.3999,2891.8000,2893.0000,2894.6001,2895.8000,2897.0000,2898.0000,2899.0000,2900.2000,2901.3999,2902.6001,2903.8000,2904.8000,
2905.8000,2906.8000,2908.0000,2909.0000,2910.0000,2911.2000,2912.2000,2913.2000,2914.0000,2915.0000,2916.0000,2917.0000,2917.8000,2918.8000,2919.8000,
2920.8000,2921.8000,2922.6001,2923.3999,2924.2000,2925.2000,2926.0000,2927.0000,2928.0000,2929.0000,2930.3999,2931.8000,2933.0000,2934.0000,2935.3999,
2936.8000,2937.8000,2939.0000,2940.2000,2941.8000,2942.8000,2944.0000,2945.0000,2946.0000,2947.0000,2948.2000,2949.2000,2950.3999,2951.3999,2952.6001,
2953.6001,2954.8000,2955.8000,2956.8000,2957.8000,2958.8000,2959.8000,2961.0000,2962.2000,2963.8000,2965.0000,2966.0000,2967.6001,2968.8000,2970.0000,
2971.3999,2972.8000,2974.0000,2975.2000,2976.6001,2977.3999,2978.2000,2979.0000,2980.0000,2981.0000,2982.0000,2982.8000,2983.8000,2984.8000,2985.6001,
2986.3999,2987.2000,2988.0000,2989.0000,2990.0000,2991.0000,2991.8000,2992.8000,2993.8000,2994.8000,2995.8000,2997.0000,2998.0000,2999.0000,3000.0000,
3001.0000,3002.0000,3003.0000,3004.0000,3005.0000,3006.0000,3007.0000,3008.0000,3009.0000,3010.2000,3011.3999,3012.6001,3013.8000,3014.8000,3015.8000,
3016.8000,3018.0000,3019.0000,3020.0000,3021.0000,3022.2000,3023.3999,3024.6001,3025.8000,3026.8000,3027.8000,3028.8000,3030.0000,3031.0000,3032.0000,
3033.0000,3034.2000,3035.3999,3036.3999,3037.6001,3038.8000,3039.8000,3040.8000,3041.8000,3043.0000,3044.0000,3045.0000,3046.2000,3047.3999,3048.6001,
3049.8000,3050.8000,3051.8000,3053.0000,3054.0000,3055.0000,3056.0000,3056.8000,3057.0000,3057.2000,3057.8000,3058.0000,3058.2000,3058.8000,3059.0000,
3059.3999,3059.8000,3060.0000,3060.6001,3060.8000,3061.0000,3061.8000,3062.0000,3062.2000,3062.8000,3063.0000,3063.2000,3063.8000,3064.0000,3064.3999,
3064.8000,3065.0000,3065.6001,3065.8000,3066.0000,3066.6001,3066.8000,3067.2000,3067.8000,3068.0000,3068.2000,3068.8000,3069.0000,3069.3999,3069.8000,
3070.0000,3070.6001,3070.8000,3071.0000,3071.6001,3071.8000,3072.2000,3073.6001,3074.8000,3075.8000,3077.0000,3078.0000,3079.2000,3080.3999,3081.8000,
3082.8000,3083.8000,3085.0000,3086.0000,3087.2000,3088.3999,3089.0000,3090.0000,3091.0000,3091.8000,3092.8000,3093.3999,3094.2000,3095.0000,3096.0000,
3096.8000,3097.8000,3098.6001,3099.2000,3100.0000,3101.0000,3101.8000,3102.8000,3103.6001,3104.3999,3105.6001,3106.8000,3107.8000,3109.0000,3110.0000,
3111.0000,3112.3999,3113.6001,3114.8000,3115.8000,3117.0000,3118.0000,3119.2000,3120.3999,3121.6001,3122.6001,3123.8000,3124.8000,3125.8000,3126.8000,
3127.8000,3129.0000,3130.0000,3131.0000,3132.0000,3133.0000,3134.2000,3135.2000,3136.3999,3137.8000,3138.8000,3139.8000,3141.0000,3142.0000,3143.2000,
3144.3999,3145.8000,3146.8000,3147.8000,3149.0000,3150.0000,3151.2000,3152.3999,3153.0000,3154.0000,3155.0000,3155.8000,3156.8000,3157.6001,3158.3999,
3159.2000,3160.0000,3161.0000,3161.8000,3162.8000,3163.8000,3164.3999,3165.2000,3166.0000,3167.0000,3167.8000,3168.8000,3170.0000,3171.0000,3172.3999,
3173.8000,3174.8000,3176.0000,3177.0000,3178.2000,3179.3999,3180.8000,3181.8000,3183.0000,3184.0000,3185.0000,3186.0000,3187.0000,3188.0000,3189.0000,
3190.0000,3191.0000,3192.0000,3193.0000,3193.8000,3194.8000,3195.8000,3196.8000,3197.8000,3198.8000,3199.8000,3200.8000,3202.0000,3203.0000,3204.0000,
3205.3999,3206.6001,3207.8000,3208.8000,3210.0000,3211.0000,3212.2000,3213.3999,3214.6001,3215.8000,3216.8000,3217.3999,3218.0000,3219.0000,3219.8000,
3220.8000,3221.3999,3222.0000,3223.0000,3223.8000,3224.8000,3225.3999,3226.0000,3227.0000,3227.8000,3228.6001,3229.2000,3230.0000,3231.0000,3231.8000,
3232.8000,3233.8000,3234.8000,3235.6001,3236.6001,3237.6001,3238.6001,3239.6001,3240.6001,3241.6001,3242.6001,3243.3999,3244.3999,3245.3999,3246.3999,
3247.3999,3248.3999,3249.3999,3250.2000,3251.2000,3252.2000,3253.2000,3254.2000,3255.2000,3256.2000,3257.0000,3258.0000,3259.0000,3260.0000,3261.0000,
3262.0000,3263.0000,3264.0000,3265.0000,3266.0000,3267.0000,3268.0000,3269.0000,3270.0000,3271.0000,3271.8000,3272.8000,3273.8000,3274.8000,3275.8000,
3276.8000,3277.8000,3278.8000,3279.8000,3280.6001,3281.3999,3282.0000,3283.0000,3283.8000,3284.8000,3285.6001,3286.3999,3287.0000,3288.0000,3288.8000,
3289.8000,3290.6001,3291.2000,3292.0000,3293.0000,3293.8000,3294.8000,3295.6001,3296.3999,3297.2000,3298.2000,3299.0000,3300.0000,3301.0000,3302.0000,
3303.0000,3304.0000,3305.0000,3306.0000,3307.0000,3307.8000,3308.8000,3309.8000,3310.8000,3311.8000,3312.8000,3313.8000,3314.6001,3315.3999,3316.2000,
3317.0000,3318.0000,3319.0000,3320.0000,3320.8000,3321.8000,3322.8000,3323.8000,3324.8000,3325.6001,3326.3999,3327.2000,3328.0000,3329.0000,3330.0000,
3330.8000,3331.8000,3332.3999,3333.2000,3334.0000,3335.0000,3335.8000,3336.8000,3337.6001,3338.2000,3339.0000,3340.0000,3340.8000,3341.8000,3342.6001,
3343.3999,3344.0000,3345.0000,3346.0000,3346.8000,3347.8000,3348.8000,3349.6001,3350.3999,3351.2000,3352.0000,3353.0000,3353.8000,3354.8000,3355.8000,
3356.6001,3357.3999,3358.2000,3359.0000,3360.0000,3361.0000,3361.8000,3362.8000,3363.6001,3364.3999,3365.2000,3366.0000,3367.0000,3368.0000,3368.8000,
3369.8000,3370.6001,3371.3999,3372.2000,3373.0000,3374.0000,3375.0000,3375.8000,3376.8000,3377.8000,3378.6001,3379.3999,3380.3999,3381.2000,3382.0000,
3383.0000,3384.0000,3385.0000,3385.8000,3386.8000,3387.8000,3388.8000,3389.6001,3390.3999,3391.3999,3392.2000,3393.0000,3393.8000,3394.8000,3395.3999,
3396.0000,3397.0000,3397.8000,3398.6001,3399.2000,3400.0000,3400.8000,3401.8000,3402.6001,3403.0000,3404.0000,3404.8000,3405.8000,3406.3999,3407.0000,
3408.0000,3408.8000,3409.8000,3410.6001,3411.2000,3412.0000,3413.0000,3413.8000,3414.8000,3415.8000,3416.3999,3417.2000,3418.0000,3419.0000,3419.8000,
3420.8000,3421.6001,3422.3999,3423.0000,3424.0000,3425.0000,3425.8000,3426.8000,3427.3999,3428.0000,3429.0000,3429.8000,3430.8000,3431.6001,3432.2000,
3433.0000,3434.0000,3434.8000,3435.8000,3436.6001,3437.2000,3438.0000,3439.0000,3439.8000,3440.8000,3441.6001,3442.3999,3443.2000,3444.0000,3445.0000,
3446.0000,3446.8000,3447.8000,3448.8000,3449.6001,3450.3999,3451.2000,3452.0000,3453.0000,3454.0000,3454.8000,3455.8000,3456.8000,3457.3999,3458.0000,
3459.0000,3459.8000,3460.8000,3461.3999,3462.0000,3463.0000,3463.8000,3464.8000,3465.3999,3466.0000,3467.0000,3467.8000,3468.8000,3469.3999,3470.0000,
3471.0000,3471.8000,3472.8000,3473.3999,3474.0000,3474.8000,3475.8000,3476.2000,3477.0000,3477.8000,3478.8000,3479.2000,3480.0000,3480.8000,3481.6001,
3482.2000,3483.0000,3483.8000,3484.6001,3485.0000,3486.0000,3486.8000,3487.6001,3488.0000,3489.0000,3489.8000,3490.8000,3491.6001,3492.2000,3493.0000,
3494.0000,3494.8000,3495.8000,3496.3999,3497.0000,3498.0000,3498.8000,3499.8000,3500.6001,3501.2000,3502.0000,3503.0000,3503.8000,3504.8000,3505.3999,
3506.0000,3507.0000,3507.8000,3508.6001,3509.2000,3510.0000,3510.8000,3511.8000,3512.6001,3513.2000,3514.0000,3514.8000,3515.8000,3516.3999,3517.0000,
3518.0000,3518.8000,3519.8000,3520.2000,3521.0000,3521.8000,3522.8000,3523.3999,3524.0000,3524.8000,3525.8000,3526.3999,3527.0000,3527.8000,3528.8000,
3529.3999,3530.0000,3530.8000,3531.8000,3532.3999,3533.0000,3533.8000,3534.8000,3535.3999,3536.0000,3537.0000,3537.8000,3538.3999,3539.0000,3540.0000,
3540.8000,3541.6001,3542.2000,3543.0000,3543.8000,3544.8000,3545.2000,3546.0000,3546.8000,3547.8000,3548.3999,3549.0000,3550.0000,3550.8000,3551.6001,
3552.0000,3553.0000,3553.8000,3554.6001,3555.0000,3556.0000,3556.8000,3557.3999,3558.0000,3559.0000,3559.8000,3560.3999,3561.0000,3561.8000,3562.8000,
3563.3999,3564.0000,3564.8000,3565.8000,3566.2000,3567.0000,3567.8000,3568.8000,3569.3999,3570.0000,3571.0000,3571.8000,3572.6001,3573.2000,3574.0000,
3575.0000,3575.8000,3576.6001,3577.2000,3578.0000,3578.8000,3579.8000,3580.6001,3581.2000,3582.0000,3582.8000,3583.8000,3584.3999,3585.0000,3585.8000,
3586.6001,3587.0000,3587.8000,3588.6001,3589.0000,3590.0000,3590.8000,3591.2000,3592.0000,3592.8000,3593.2000,3594.0000,3594.8000,3595.3999,3596.0000,
3596.8000,3597.6001,3598.0000,3598.8000,3599.6001,3600.0000,3601.0000,3601.8000,3602.6001,3603.0000,3604.0000,3604.8000,3605.6001,3606.2000,3607.0000,
3607.8000,3608.6001,3609.2000,3610.0000,3610.8000,3611.6001,3612.2000,3613.0000,3613.8000,3614.8000,3615.2000,3616.0000,3616.8000,3617.6001,3618.0000,
3619.0000,3619.8000,3620.3999,3621.0000,3621.8000,3622.6001,3623.2000,3624.0000,3624.8000,3625.3999,3626.0000,3626.8000,3627.8000,3628.2000,3629.0000,
3629.8000,3630.3999,3631.0000,3631.8000,3632.8000,3633.3999,3634.0000,3634.8000,3635.8000,3636.3999,3637.0000,3637.8000,3638.8000,3639.3999,3640.0000,
3641.0000,3641.8000,3642.3999,3643.0000,3644.0000,3644.8000,3645.6001,3646.0000,3647.0000,3647.8000,3648.3999,3649.0000,3649.8000,3650.0000,3650.8000,
3651.3999,3652.0000,3652.8000,3653.2000,3653.8000,3654.6001,3655.0000,3655.8000,3656.2000,3656.8000,3657.6001,3658.0000,3658.8000,3659.2000,3659.8000,
3660.6001,3661.0000,3661.8000,3662.2000,3663.0000,3663.6001,3664.0000,3664.8000,3665.8000,3666.2000,3667.0000,3667.8000,3668.6001,3669.2000,3670.0000,
3670.8000,3671.6001,3672.0000,3673.0000,3673.8000,3674.6001,3675.0000,3676.0000,3676.8000,3677.3999,3678.0000,3679.0000,3679.8000,3680.3999,3681.0000,
3681.8000,3682.0000,3682.8000,3683.6001,3684.0000,3684.8000,3685.3999,3686.0000,3686.8000,3687.0000,3687.8000,3688.6001,3689.0000,3689.8000,3690.3999,
3691.0000,3691.8000,3692.0000,3692.8000,3693.6001,3694.0000,3694.8000,3695.2000,3696.0000,3696.8000,3697.6001,3698.3999,3699.0000,3700.0000,3700.8000,
3701.8000,3702.6001,3703.2000,3704.0000,3705.0000,3705.8000,3706.8000,3707.3999,3708.0000,3709.0000,3709.8000,3710.8000,3711.6001,3712.2000,3712.8000,
3713.2000,3713.8000,3714.2000,3714.8000,3715.3999,3715.8000,3716.3999,3717.0000,3717.6001,3718.0000,3718.6001,3719.0000,3719.6001,3720.0000,3720.8000,
3721.0000,3721.8000,3722.0000,3722.8000,3723.0000,3723.8000,3724.0000,3724.8000,3725.0000,3725.8000,3726.2000,3726.8000,3727.2000,3727.8000,3728.3999,
3729.0000,3729.8000,3730.0000,3730.8000,3731.3999,3732.0000,3732.8000,3733.0000,3733.8000,3734.3999,3735.0000,3735.8000,3736.2000,3736.8000,3737.6001,
3738.0000,3738.8000,3739.2000,3739.8000,3740.6001,3741.0000,3741.8000,3742.2000,3743.0000,3743.6001,3744.0000,3744.8000,3745.6001,3746.0000,3746.8000,
3747.6001,3748.0000,3749.0000,3749.8000,3750.2000,3751.0000,3751.8000,3752.2000,3753.0000,3753.8000,3754.3999,3755.0000,3755.8000,3756.3999,3757.0000,
3757.8000,3758.3999,3759.0000,3759.8000,3760.6001,3761.0000,3761.8000,3762.2000,3762.8000,3763.6001,3764.0000,3764.8000,3765.2000,3766.0000,3766.6001,
3767.0000,3767.8000,3768.3999,3769.0000,3769.8000,3770.0000,3770.8000,3771.3999,3772.0000,3772.8000,3773.0000,3773.8000,3774.3999,3775.0000,3775.8000,
3776.2000,3777.0000,3777.8000,3778.3999,3779.0000,3779.8000,3780.6001,3781.0000,3782.0000,3782.8000,3783.2000,3784.0000,3784.8000,3785.3999,3786.0000,
3786.8000,3787.8000,3788.2000,3789.0000,3789.8000,3790.3999,3791.0000,3791.8000,3792.3999,3793.0000,3793.8000,3794.0000,3794.8000,3795.0000,3795.8000,
3796.3999,3797.0000,3797.6001,3798.0000,3798.8000,3799.0000,3799.8000,3800.2000,3800.8000,3801.3999,3802.0000,3802.6001,3803.0000,3803.8000,3804.0000,
3804.8000,3805.2000,3805.8000,3806.3999,3807.0000,3807.8000,3808.0000,3808.8000,3809.2000,3810.0000,3810.8000,3811.0000,3811.8000,3812.3999,3813.0000,
3813.8000,3814.0000,3814.8000,3815.3999,3816.0000,3816.8000,3817.0000,3817.8000,3818.6001,3819.0000,3819.8000,3820.2000,3820.8000,3821.6001,3822.0000,
3822.8000,3823.2000,3824.0000,3824.8000,3825.3999,3826.0000,3827.0000,3827.8000,3828.6001,3829.0000,3830.0000,3830.8000,3831.6001,3832.2000,3833.0000,
3833.8000,3834.8000,3835.2000,3836.0000,3836.8000,3837.8000,3838.3999,3839.0000,3839.8000,3840.6001,3841.0000,3841.8000,3842.2000,3842.8000,3843.3999,
3844.0000,3844.6001,3845.0000,3845.8000,3846.2000,3846.8000,3847.3999,3848.0000,3848.8000,3849.0000,3849.8000,3850.2000,3850.8000,3851.3999,3852.0000,
3852.8000,3853.0000,3853.8000,3854.2000,3854.8000,3855.3999,3856.0000,3856.8000,3857.2000,3858.0000,3858.8000,3859.2000,3860.0000,3860.8000,3861.2000,
3862.0000,3862.8000,3863.2000,3864.0000,3864.8000,3865.2000,3866.0000,3866.8000,3867.3999,3868.0000,3868.8000,3869.3999,3870.0000,3870.8000,3871.3999,
3872.0000,3872.8000,3873.0000,3873.8000,3874.0000,3874.8000,3875.0000,3875.8000,3876.0000,3876.8000,3877.2000,3877.8000,3878.2000,3878.8000,3879.3999,
3879.8000,3880.3999,3881.0000,3881.3999,3882.0000,3882.6001,3883.0000,3883.6001,3884.0000,3884.8000,3885.0000,3885.8000,3886.0000,3886.8000,3887.0000,
3887.8000,3888.0000,3888.8000,3889.2000,3890.0000,3890.6001,3891.0000,3891.8000,3892.0000,3892.8000,3893.3999,3894.0000,3894.8000,3895.0000,3895.8000,
3896.2000,3896.8000,3897.6001,3898.0000,3898.8000,3899.0000,3899.8000,3900.3999,3901.0000,3901.6001,3902.0000,3902.8000,3903.2000,3903.8000,3904.3999,
3905.0000,3905.8000,3906.0000,3906.8000,3907.2000,3907.8000,3908.3999,3909.0000,3909.8000,3910.0000,3910.8000,3911.2000,3911.8000,3912.6001,3913.0000,
3913.8000,3914.0000,3914.8000,3915.2000,3916.0000,3916.6001,3917.0000,3917.8000,3918.0000,3918.8000,3919.3999,3920.0000,3920.6001,3921.0000,3921.8000,
3922.0000,3922.8000,3923.0000,3923.8000,3924.2000,3924.8000,3925.3999,3926.0000,3926.6001,3927.0000,3927.8000,3928.0000,3928.8000,3929.0000,3929.8000,
3930.2000,3930.8000,3931.3999,3932.0000,3932.6001,3933.0000,3933.8000,3934.0000,3934.8000,3935.0000,3935.8000,3936.2000,3937.0000,3937.6001,3938.0000,
3938.8000,3939.2000,3940.0000,3940.6001,3941.0000,3941.8000,3942.2000,3943.0000,3943.6001,3944.0000,3944.8000,3945.2000,3946.0000,3946.6001,3947.0000,
3947.8000,3948.2000,3949.0000,3949.6001,3950.0000,3950.8000,3951.2000,3952.0000,3952.8000,3953.6001,3954.2000,3955.0000,3956.0000,3956.8000,3957.8000,
3958.3999,3959.0000,3960.0000,3960.8000,3961.8000,3962.6001,3963.3999,3964.0000,3965.0000,3965.8000,3966.8000,3967.6001,3968.0000,3968.8000,3969.0000,
3969.3999,3969.8000,3970.0000,3970.8000,3971.0000,3971.3999,3971.8000,3972.0000,3972.8000,3973.0000,3973.3999,3973.8000,3974.0000,3974.8000,3975.0000,
3975.3999,3975.8000,3976.0000,3976.8000,3977.0000,3977.3999,3977.8000,3978.0000,3978.8000,3979.0000,3979.3999,3979.8000,3980.0000,3980.8000,3981.0000,
3981.3999,3981.8000,3982.0000,3982.8000,3983.0000,3983.3999,3983.8000,3984.0000,3984.8000,3985.3999,3986.0000,3986.8000,3987.0000,3987.8000,3988.3999,
3989.0000,3989.8000,3990.0000,3990.8000,3991.3999,3992.0000,3992.8000,3993.0000,3993.8000,3994.3999,3995.0000,3995.8000,3996.0000,3996.8000,3997.3999,
3998.0000,3998.8000,3999.0000,3999.8000,4000.3999,4001.0000,4001.8000,4002.0000,4002.8000,4003.6001,4004.0000,4004.8000,4005.2000,4006.0000,4006.8000,
4007.0000,4007.8000,4008.6001,4009.0000,4009.8000,4010.2000,4011.0000,4011.8000,4012.0000,4012.8000,4013.3999,4014.0000,4014.8000,4015.2000,4016.00
};


long rango = 5;                     //Este es el rango por el que se disparará la salida 2 y pasa a estado lógico 1
long ultimamedicion;                //Contiene el valor de la última medición que disparó a lógico 1, la salida 2
int ciclo = 0;                      //1=alto 0=bajo
int cambiodeciclo = 0;
int picodetension;
int valledetension = 1023;
long contadorciclo;
boolean estadoBPM = true;           //guarda el estado del led (encendido o apagado)
boolean estadoLed = true;           //guarda el estado del led (encendido o apagado)
int intervaloEncendido = 1;         // tiempo que esta encendido el led
int IntervaloApagado = 1;           // tiempo que esta apagado el led
  
int IntervaloBPM = 10000;           // tiempo que esta apagado el led
int IntervaloBPM2 = 1;              // tiempo que esta apagado el led
int contador = 0;
unsigned long tiempoAnteriorEncendido = 0;    //guarda tiempo de referencia para comparar
unsigned long tiempoAnteriorApagado = 0;      //guarda tiempo de referencia para comparar
unsigned long tiempoAnteriorBPM = 0;          //guarda tiempo de referencia para comparar
unsigned long tiempoAnteriorBPM2 = 0;         //guarda tiempo de referencia para comparar
int lecturaSensor=0;
int pulsos = 0;
int pulsos2 = 0;
int senal = 0;
int contador1=1;

char mqttBroker[]  = "things.ubidots.com";    //Servidor
char payload[100];
char topic[150];
char topicSubscribe[100];
// cadenas que se manda´ran al servidor
char str_lecturaSensor[10];
char str_contador1[10];
char str_temperatura[10];
char str_temperature[10];

double Vout, Rt = 0;
double T, Tc, Tf = 0;
double adc1 = 0;
double humidity = 0.0;
double temperature = 0.0;

DHTesp dht;
WiFiClient ubidots;
PubSubClient client(ubidots);

//Ciclo para la reconección del servidor
void reconnect() {
  // Ciclo infinito hasta que se reconecte al servidor
  while (!client.connected()) {
    Serial.println("Intentando conección MQTT...");
    // Intentando conectar
    if (client.connect(MQTT_CLIENT_NAME, TOKEN, "")) {
        Serial.println("Conectado");
        client.subscribe(topicSubscribe);
    } 
    else {
        Serial.print("Failed, rc=");
        Serial.print(client.state());
        Serial.println(" try again in 2 seconds");
        //Espera dos segundos antes de reintentar
        delay(2000);
    }
  }
}
//Ciclo para cargar las cadenas al servidor
void callback(char* topic, byte* payload, unsigned int length) {
  char p[length + 1];
  memcpy(p, payload, length);
  p[length] = NULL;
  String message(p);
  Serial.write(payload, length);
  Serial.println();
}


void setup() {
  Serial.begin(115200);                 //Velocidad en baudios del puerto serial
  WiFi.begin(WIFISSID, PASSWORD);       //Conección a la red Wifi
  pinMode(2, OUTPUT);                   //Pin GPIO2 como salida
  dht.setup(DHTpin, DHTesp::DHT11);     //Configuramos el sensor DHT que vamos a utilizar
  Serial.println();
  Serial.print("Esperando red Wifi...");
  while (WiFi.status() != WL_CONNECTED) //Mientras no esté conectado pondrá un punto cada medio segundo simulando estar esperando
  {
    Serial.print(".");
    delay(500);
  }
  
  Serial.println("");
  Serial.println("WiFi Conectado");     //Mensaje de que el wifi está conectado
  Serial.println("Dirección IP: ");
  Serial.println(WiFi.localIP());
  client.setServer(mqttBroker, 1883);
  client.setCallback(callback);
  sprintf(topicSubscribe, "/v1.6/devices/%s/%s/lv", DEVICE_LABEL, VARIABLE_LABEL_SUBSCRIBE, VARIABLE_LABEL_SUBSCRIBE2, VARIABLE_LABEL_SUBSCRIBE3);
  client.subscribe(topicSubscribe);
}


void loop() {       
  for (int im =0 ; im<16 ; im++)                          //Loop para contar las repiraciones por minuto
     {
            //Obteniendo en valor de la temperatura corporal 
            adc1 = analogRead(ThermistorPin);
            adc1 = ADC_LUT[(int)adc1];
            Vout = adc1 * (3.3/4095);
            Rt = R1 * Vout / (3.3 - Vout);
            T = 1/(1/To + log(Rt/Ro)/Beta);               // Temperatura in Kelvin
            Tc = T - 273.15;                              // Celsius
            Serial.print("Temperatura Corporal: ");
            Serial.print(Tc); 
            Serial.println("°C"); 

            //Obteniendo el valor del sensor MQ135
            lecturaSensor=analogRead(sensor);
            lecturaSensor = ADC_LUT[(int)lecturaSensor];
            lecturaSensor=lecturaSensor*7;
            Serial.println(lecturaSensor);

            //Momento de subir nuestras variables al servidor
            if (!client.connected())                      //Si no está conectado intentarpá reconectar   
            {
              client.subscribe(topicSubscribe);   
              reconnect();
            }
            
            sprintf(topic, "%s%s", "/v1.6/devices/", DEVICE_LABEL);     //Conecta a nuestro dispositivo
            
            sprintf(payload, "%s", "");                                 //Limpia el payload 
            sprintf(payload, "{\"%s\":", VARIABLE_LABEL);               //Agrega variable label
            dtostrf(lecturaSensor, 4, 2, str_lecturaSensor);            //Cargamos nuestro valor del sensor a una cadena            
            sprintf(payload, "%s {\"value\": %s}}", payload, str_lecturaSensor); // Agregamos el valor al payload
            client.publish(topic, payload);                             //Publicamos el valor al servidor

            sprintf(payload, "%s", "");                                 //Limpia el payload 
            sprintf(payload, "{\"%s\":", VARIABLE_LABEL_SUBSCRIBE);     //Agrega variable label subscribe
            dtostrf(contador1, 4, 2, str_contador1);                    //Cargamos nuestro valor del contador a una cadena
            sprintf(payload, "%s {\"value\": %s}}", payload, str_contador1); // Agregamos el valor al payload
            client.publish(topic, payload);                             //Publicamos el valor al servidor

                      
            sprintf(payload, "%s", "");                                 //Limpia el payload 
            sprintf(payload, "{\"%s\":", VARIABLE_LABEL_SUBSCRIBE2);    //Agrega variable label subscribe2
            dtostrf(Tc, 4, 2, str_temperatura);                         //Cargamos nuestro valor de la temperatura corporal a una cadena
            sprintf(payload, "%s {\"value\": %s}}", payload, str_temperatura); // Agregamos el valor al payload
            client.publish(topic, payload);

            sprintf(payload, "%s", "");                                 //Limpia el payload 
            sprintf(payload, "{\"%s\":", VARIABLE_LABEL_SUBSCRIBE3);    //Agrega variable label subscribe3
            dtostrf(temperature, 4, 2, str_temperature);                //Cargamos nuestro valor de la temperatura ambiente a una cadena
            sprintf(payload, "%s {\"value\": %s}}", payload, str_temperature); // Agregamos el valor al payload
            client.publish(topic, payload);                             //Publicamos el valor al servidor   
            
            Serial.println("Datos publicados a la nube Ubidots");
            client.loop();

            //Procesamiento de las repiraciones por minuto
            data[indexs] = 64 * lecturaSensor/1024;
            indexs++; 
            byte i = indexs ;
          
            senal=lecturaSensor;                                        //guardamos el valor en la variable senal
            
            if (senal >= ( ultimamedicion+120) )                        // La salida 2 pasa a 1 logico si la tensión medida en la entrada analógica 0 es mayor que la anterior lectura + latensión de RANGO
             {
                ultimamedicion = senal;                                 // SE ASIGANA A LA VARIABLE ULTIMAMEDICION EL VALOR LEIDO POR LA ENTRADA ANALÓGICA CERO 
                ciclo=1;
                if (senal>picodetension)                                // SI LA TENSIÓN MEDIDA POR LA ENTRADA CERO, ES LA MAYOR DETECTADA, SE ASIGNA A LA VARIABLE PICODETENSIÓN EL VALOR LEIDO POR AL ENTRADA CERO ANALÓGICA 
                {
                picodetension=senal;                                    // SE ASIGNA EL VALOR LEIDO POR LA ENTRADA CERO ANALÓGICA A LA VARIABLE PICODETENSIÓN.
                }
             }
               
            if (senal <= ( ultimamedicion-120))                         // La salida 2 pasa a 1 lógico si la tensión medida en la entrada analógica 0 es menor que la anterior lectura - la tensión de RANGO
             {
               ultimamedicion = senal;                                  // SE ASIGNA A LA VARIABLE ULTIMAMEDICIÓN LA LECTURA MEDIDA POR EL PUERTO ANALÓGICO CERO
               ciclo=0;                                                 // EL CICLO SE PONE A CERO, ES DECIR, QUE EL VOLTAJE EMPIEZA A BAJAR DESDE EL PICO DE TENSIÓN MÁS ALTA
               if (senal<valledetension)                                // SE CUMPLE LA CONDICIÓN SI LA TENSIÓN DETECTADA POR EL PUERTO ANALÓGICO CERO ES MENOR QUE LA CONTENIDA EN LA VARIABLE VALLEDETENSIÓN
               {
                  valledetension=senal;                                 //Se asigna a la variable valledetensión el valor medido por la entrada analógica cero
               }
             }
          
            if(millis()-tiempoAnteriorBPM>=IntervaloBPM)                 //si ha transcurrido el periodo programado
            {                                                  
              lecturaSensor=analogRead(sensor);
              estadoBPM=false;
              pulsos2=pulsos;
              tiempoAnteriorBPM=millis();                               //guarda el tiempo actual para comenzar a contar el tiempo apagad
              pulsos=0;   
            }
              
            if(millis()-tiempoAnteriorBPM2>=IntervaloBPM2)              //si ha transcurrido el periodo programado
            {       
                lecturaSensor=analogRead(sensor);
                estadoBPM=true;
                // pulsos2=(pulsos2+pulsos2)/2;
                //Serial.print(pulsos2*4);
              tiempoAnteriorBPM2=millis();  //guarda el tiempo actual para comenzar a contar el tiempo apagado
            }
            if((millis()-tiempoAnteriorEncendido>=intervaloEncendido)&&estadoLed==true && ciclo==0) //si ha transcurrido el periodo programado
            {  
              estadoLed=false;                                          //actualizo la variable para apagar el led
              picodetension=senal;                                      //SE ASIGNA A LA VARIABLE PICODETENSIÓN EL VALOR DE LA TENSIÒN LEIDA POR EL PUERTO ANALÓGICO CERO
              valledetension=senal;                                     //SE ASIGNA A LA VALLEDETENSION EL VALOR DE LA TENSIÒN LEIDA POR EL PUERTO ANALÓGICO CERO  
              digitalWrite(2,HIGH);                                     //apago el led
              contador = contador +1;
              //Serial.println("Eex");
              tiempoAnteriorApagado=millis();                           //guarda el tiempo actual para comenzar a contar el tiempo apagado
            }
            
            if((millis()-tiempoAnteriorApagado>=IntervaloApagado)&&estadoLed==false && ciclo==1) //si ha transcurrido el periodo programado
            {  
              pulsos++;
              picodetension=senal;                                       //SE ASIGNA A LA VARIABLE PICODETENSIÓN EL VALOR DE LA TENSIÒN LEIDA POR EL PUERTO ANALÓGICO CERO
              valledetension=senal;                                      //SE ASIGNA A LA VALLEDETENSION EL VALOR DE LA TENSIÒN LEIDA POR EL PUERTO ANALÓGICO CERO
              estadoLed=true;                                            //actualizo la variable para encender el led 
              digitalWrite(2,LOW);                                       //enciendo el led
              tiempoAnteriorEncendido=millis();                          //guarda el tiempo actual para comenzar a contar el tiempo encendido
            }
       delay(1000);
       }
    Serial.println("Respiraciones por minuto: "); 
    contador1 = contador*4;
    Serial.println(contador1); 
    contador=0;

    //Obtención  de la temperatura ambiente
    delay(dht.getMinimumSamplingPeriod());
    humidity = dht.getHumidity();
    temperature = dht.getTemperature();
    Serial.print("Temperatura Ambiente: ");
    Serial.print(temperature, 1);
    Serial.println("°C");
}
